\documentclass[phd]{ntuthesis}

\usepackage{times}
\usepackage{verbatim}
\usepackage{color}
\usepackage{url}
\usepackage{graphicx}
\usepackage{array}
\usepackage{wallpaper} 
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{color, colortbl}
\usepackage{threeparttable}
\usepackage{csquotes}
\usepackage{pdflscape}
\usepackage{enumitem}
\usepackage{minted}
\setminted{frame=lines,linenos=true,baselinestretch=1,fontsize=\footnotesize}
\setmonofont{Courier}

%%%%%%%%%%%% MY COMMANDS
\newcommand{\sccomment}[1] { \emph{ << #1 >> } }
\newcommand{\sce}[3]{
\makebox[3.5mm][r]{\scriptsize #1}
\makebox[3.5mm]{\scriptsize #2}
\makebox[2.5mm][l]{\tiny #3}
}
\newcommand{\use}{\centering\scriptsize *}
\newcommand{\myfiguresizeperformance}[0] { 6.7cm }
\newcommand{\myfiguresizecodesize}[0] { 6.7cm }
\newcommand{\myfiguresizexxtea}[0] { 6.7cm }
\newcommand{\xt}[0] { \tiny }
\newcommand{\xxt}[0] { \makebox[2mm]{} }
\newcommand{\xxxt}[0] { \makebox[5mm]{} \tiny }
\newcommand{\tblhighlight}[0] {\cellcolor{yellow!20}}
\newcommand{\mycode}[1]{\texttt{#1}}

\let\originaltable\table
\let\endoriginaltable\endtable
\renewenvironment{table}[1][ht]{%
  \originaltable[#1]
  \centering
  \footnotesize}%
  {\endoriginaltable}

%%%%%%%%%%%% END MY COMMANDS

% Using the tex-text mapping for ligatures etc.
\defaultfontfeatures{Mapping=tex-text}

% Set the default fonts
\setmainfont{Times New Roman}
% \setCJKmainfont{標楷體}

\ifdefined\withwatermark
  \CenterWallPaper{0.174}{watermark.pdf}
  \setlength{\wpXoffset}{6.1725cm}
  \setlength{\wpYoffset}{10.5225cm}
\fi

% digital object identifier
\ifdefined\withdoi
  \insertdoi
\fi

\makeatletter
\AtBeginDocument{
  \hypersetup{
    pdftitle={\@titleen},
    pdfauthor={\@authoren},
    pdfsubject={\@typeen{} \@classen},
    pdfkeywords={\@keywordsen}
  }
}

\global\let\tikz@ensure@dollar@catcode=\relax
\makeatother

% Your information goes here
\input{ntuvars}

\begin{document}

\frontmatter

\makecover

\makecertification

\input{000-acknowledgements}
\input{010-abstract}

\tableofcontents
\listoffigures
\listoftables
\listoflistings

\mainmatter

% Your thesis goes here
\input{100-introduction}
\input{200-background}
\input{300-state-of-the-art}
\input{400-vm-design}
\input{500-performance-optimisation}
\input{510-sources-of-overhead}
\input{520-optimisations-java-source}
\input{530-optimisations-aot-translation-overhead}
\input{540-optimisations-method-calls}
\input{600-guaranteeing-safety}
\input{700-evaluation}
\input{710-evaluation-benchmarks}
\input{720-evaluation-coremark}
\input{730-evaluation-performance}
\input{740-evaluation-code-size}
\input{750-evaluation-benchmark-details}
\input{760-evaluation-method-calls}
\input{770-evaluation-the-cost-of-safety}
\input{780-evaluation-other-platforms}
\input{790-evaluation-limitations-and-the-cost-of-vm}
\input{800-lessons-from-jvm}
\input{900-conclusion}


%TODO: consistent use of subsubsection and/or paragraph. they look very similar, maybe only use one?
%TODO: consistent table layout. double midrule to separate header from body
%TODO: consistent placement of label for figures and tables and listings
%TODO: consistent spelling and caps for bytecode runtime, compilation time, translation time, load time, atmega, etc.
%TODO: consistent usage of compile-time (Java->bytecode) and translation-time (bytecode->native code)
%TODO: consistent emphasis for benchmark names
%TODO: consistent use of 'runtime'
%TODO: consistent use of xALOAD and GETARRAY_x. We renamend xALOAD to GETARRAY_x but Darjeeling bytecode should still use ALOAD? Also we should mention that somewhere.
%TODO: papers to read again: LooCI, Suganuma

\appendix
\chapter{LEC benchmark source code}
\label{app-lec-source}
\chapter{Outlier detection benchmark source code}
\label{app-outlier-detection-source}
\chapter{Heat detection benchmark source code}
\label{app-heat-detection-source}
\subsection{Calibration}
\subsection{Detection}

\backmatter

\addcontentsline{toc}{chapter}{\bibname}
\bibliographystyle{abbrv}

% Your bibliography goes here
\bibliography{references}

\end{document}
